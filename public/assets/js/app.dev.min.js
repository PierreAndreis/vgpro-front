(function(e,a,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):a[e]=t()})("h337",this,function(){var e={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},a=function(){var a=function(e){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=e.xField||e.defaultXField,this._yField=e.yField||e.defaultYField,this._valueField=e.valueField||e.defaultValueField,e.radius&&(this._cfgRadius=e.radius)},t=e.defaultRadius;return a.prototype={_organiseData:function(e,a){var i=e[this._xField],s=e[this._yField],r=this._radi,l=this._data,n=this._max,o=this._min,d=e[this._valueField]||1,c=e.radius||this._cfgRadius||t;l[i]||(l[i]=[],r[i]=[]),l[i][s]?l[i][s]+=d:(l[i][s]=d,r[i][s]=c);var h=l[i][s];return h>n?(a?this.setDataMax(h):this._max=h,!1):h<o?(a?this.setDataMin(h):this._min=h,!1):{x:i,y:s,value:d,radius:c,min:o,max:n}},_unOrganizeData:function(){var e=[],a=this._data,t=this._radi;for(var i in a)for(var s in a[i])e.push({x:i,y:s,radius:t[i][s],value:a[i][s]});return{min:this._min,max:this._max,data:e}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var e=arguments[0],a=e.length;a--;)this.addData.call(this,e[a]);else{var t=this._organiseData(arguments[0],!0);t&&(0===this._data.length&&(this._min=this._max=t.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[t]}))}return this},setData:function(e){var a=e.data,t=a.length;this._data=[],this._radi=[];for(var i=0;i<t;i++)this._organiseData(a[i],!1);return this._max=e.max,this._min=e.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(e){return this._max=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(e){return this._min=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(e){this._coordinator=e},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},a}(),t=function(){function e(e){var t=e.container,i=this.shadowCanvas=document.createElement("canvas"),s=this.canvas=e.canvas||document.createElement("canvas"),r=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});s.className="heatmap-canvas",this._width=s.width=i.width=e.width||+r.width.replace(/px/,""),this._height=s.height=i.height=e.height||+r.height.replace(/px/,""),this.shadowCtx=i.getContext("2d"),this.ctx=s.getContext("2d"),s.style.cssText=i.style.cssText="position:absolute;left:0;top:0;",t.style.position="relative",t.appendChild(s),this._palette=a(e),this._templates={},this._setStyles(e)}var a=function(e){var a=e.gradient||e.defaultGradient,t=document.createElement("canvas"),i=t.getContext("2d");t.width=256,t.height=1;var s=i.createLinearGradient(0,0,256,1);for(var r in a)s.addColorStop(r,a[r]);return i.fillStyle=s,i.fillRect(0,0,256,1),i.getImageData(0,0,256,1).data},t=function(e,a){var t=document.createElement("canvas"),i=t.getContext("2d"),s=e,r=e;if(t.width=t.height=2*e,1==a)i.beginPath(),i.arc(s,r,e,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{var l=i.createRadialGradient(s,r,e*a,s,r,e);l.addColorStop(0,"rgba(0,0,0,1)"),l.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=l,i.fillRect(0,0,2*e,2*e)}return t},i=function(e){for(var a=[],t=e.min,i=e.max,s=e.radi,e=e.data,r=Object.keys(e),l=r.length;l--;)for(var n=r[l],o=Object.keys(e[n]),d=o.length;d--;){var c=o[d],h=e[n][c],v=s[n][c];a.push({x:n,y:c,value:h,radius:v})}return{min:t,max:i,data:a}};return e.prototype={renderPartial:function(e){e.data.length>0&&(this._drawAlpha(e),this._colorize())},renderAll:function(e){this._clear(),e.data.length>0&&(this._drawAlpha(i(e)),this._colorize())},_updateGradient:function(e){this._palette=a(e)},updateConfig:function(e){e.gradient&&this._updateGradient(e),this._setStyles(e)},setDimensions:function(e,a){this._width=e,this._height=a,this.canvas.width=this.shadowCanvas.width=e,this.canvas.height=this.shadowCanvas.height=a},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(e){this._blur=0==e.blur?0:e.blur||e.defaultBlur,e.backgroundColor&&(this.canvas.style.backgroundColor=e.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=e.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=e.height||this._height,this._opacity=255*(e.opacity||0),this._maxOpacity=255*(e.maxOpacity||e.defaultMaxOpacity),this._minOpacity=255*(e.minOpacity||e.defaultMinOpacity),this._useGradientOpacity=!!e.useGradientOpacity},_drawAlpha:function(e){for(var a=this._min=e.min,i=this._max=e.max,e=e.data||[],s=e.length,r=1-this._blur;s--;){var l,n=e[s],o=n.x,d=n.y,c=n.radius,h=Math.min(n.value,i),v=o-c,u=d-c,p=this.shadowCtx;this._templates[c]?l=this._templates[c]:this._templates[c]=l=t(c,r);var m=(h-a)/(i-a);p.globalAlpha=m<.01?.01:m,p.drawImage(l,v,u),v<this._renderBoundaries[0]&&(this._renderBoundaries[0]=v),u<this._renderBoundaries[1]&&(this._renderBoundaries[1]=u),v+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=v+2*c),u+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=u+2*c)}},_colorize:function(){var e=this._renderBoundaries[0],a=this._renderBoundaries[1],t=this._renderBoundaries[2]-e,i=this._renderBoundaries[3]-a,s=this._width,r=this._height,l=this._opacity,n=this._maxOpacity,o=this._minOpacity,d=this._useGradientOpacity;e<0&&(e=0),a<0&&(a=0),e+t>s&&(t=s-e),a+i>r&&(i=r-a);for(var c=this.shadowCtx.getImageData(e,a,t,i),h=c.data,v=h.length,u=this._palette,p=3;p<v;p+=4){var m=h[p],g=4*m;if(g){var _;_=l>0?l:m<n?m<o?o:m:n,h[p-3]=u[g],h[p-2]=u[g+1],h[p-1]=u[g+2],h[p]=d?u[g+3]:_}}c.data=h,this.ctx.putImageData(c,e,a),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(e){var a,t=this.shadowCtx,i=t.getImageData(e.x,e.y,1,1),s=i.data[3],r=this._max,l=this._min;return a=Math.abs(r-l)*(s/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},e}(),i=function(){var a=!1;return"canvas2d"===e.defaultRenderer&&(a=t),a}(),s={merge:function(){for(var e={},a=arguments.length,t=0;t<a;t++){var i=arguments[t];for(var s in i)e[s]=i[s]}return e}},r=function(){function t(){var t=this._config=s.merge(e,arguments[0]||{});if(this._coordinator=new r,t.plugin){var n=t.plugin;if(!e.plugins[n])throw new Error("Plugin '"+n+"' not found. Maybe it was not registered.");var o=e.plugins[n];this._renderer=new o.renderer(t),this._store=new o.store(t)}else this._renderer=new i(t),this._store=new a(t);l(this)}var r=function(){function e(){this.cStore={}}return e.prototype={on:function(e,a,t){var i=this.cStore;i[e]||(i[e]=[]),i[e].push(function(e){return a.call(t,e)})},emit:function(e,a){var t=this.cStore;if(t[e])for(var i=t[e].length,s=0;s<i;s++){var r=t[e][s];r(a)}}},e}(),l=function(e){var a=e._renderer,t=e._coordinator,i=e._store;t.on("renderpartial",a.renderPartial,a),t.on("renderall",a.renderAll,a),t.on("extremachange",function(a){e._config.onExtremaChange&&e._config.onExtremaChange({min:a.min,max:a.max,gradient:e._config.gradient||e._config.defaultGradient})}),i.setCoordinator(t)};return t.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(e){return this._config=s.merge(this._config,e),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(e){return this._store.getValueAt?this._store.getValueAt(e):this._renderer.getValueAt?this._renderer.getValueAt(e):null}},t}(),l={create:function(e){return new r(e)},register:function(a,t){e.plugins[a]=t}};return l});var tools=function(){"use strict";var e={};return e.openRegion=function(){$(".region").toggle()},e.getRegion=function(){var e=Cookies.get("region");return e?e:"na"},e.changeRegion=function(e,a){$(".region_input").data("region",e).html(a)},e.grabRegion=function(){var a=config.webapi+"server";$.ajax({dataType:"json",type:"GET",url:a,success:e.allRegions})},e.openLang=function(){$(".language_select").toggle()},e.changeLang=function(a){var t=a;"en"==t&&(t="us"),$(".language_selected .lang_seled").html("<span class='flag-icon flag-icon-"+t+"'></span>"+a+"</div>"),Cookies.set("lang",a),location.reload(),e.openLang()},e.allRegions=function(a){e.response={},e.response=a;var t="";return $.each(a,function(e,a){t+="<li data-region="+a.Region+" data-title="+a.Tag+" id="+a.Status+">"+a.Name+"</li>"}),$(".searchwrap .region").html(t),e.response},e.openPage=function(e){switch(e){case"home":frontpage.init(),news.last();break;case"profile":playerData.init();break;case"error":break;case"teams":teamData.init();break;case"profile_dev":playerData.init();break;case"news":news.read();break;case"news_dev":news.read();break;case"leaderboard":leaderboard.init();break;case"home_dev":frontpage.init(),news.last()}},e.addClicks=function(){$(".menu-mobile").click(function(e){$(".menu").animate({width:"toggle"},350)}),$(".region_input").click(function(){e.openRegion()}),$(".lang_sel").click(function(a){e.changeLang($(this).data("lang"))}),$(".language_selected").click(function(){e.openLang()}),$(".searchwrap").submit(function(a){a.preventDefault(),$(".submit_search").fadeIn();var t=$(".region_input").data("region"),i=$(".search").val();e.nameLookup(t,i)})},e.triggerError=function(e){$(".error-search").html(e).addClass("visible"),setTimeout(function(){$(".error-search").removeClass("visible")},2e3)},e.nameLookup=function(a,t){var i=config.webapi+"lookup/"+a+"/"+t;$.ajax({dataType:"json",type:"GET",url:i,success:function(a){if("0"!=a.exist){var t={region:a.shardId,name:a.name,times:1};e.Searches("add",t);var i=config.baseurlp+a.shardId+"/"+a.name;window.location.href=i}else"sg"==a.shardId&&(a.shardId="sea"),e.triggerError("Error! <b>"+a.name+"</b> in region <b>"+a.shardId+"</b> was not found.");$(".submit_search").fadeOut()},error:function(a){e.triggerError("Oops! <b> Something happened. Try again later!")}})},$(".region").on("click",'li[id!="0"]',function(){var a=$(this).data("region"),t=$(this).data("title");Cookies.set("region",a),Cookies.set("title",t),e.changeRegion(a,t),e.openRegion()}),e.Searches=function(a,t){var i=0;switch(a){case"add":var s=e.handleStorage("get","recentSearches",0);if(s){var r=!1;console.log(s);for(var l=0;l<s.length;l++){var n=s[l];n.name==t.name&&n.region==t.region&&(r=!0,s[l].times=n.times+1)}console.log(s),0==r&&s.push(t),s.sort(function(e,a){return a.times-e.times}),e.handleStorage("set","recentSearches",s)}else{var o=[];o.push(t),e.handleStorage("set","recentSearches",o)}i=!0;break;case"generate":var d=e.handleStorage("get","recentSearches"),c=[];if(d){for(var l=0;l<d.length;l++){var n=d[l];if(4===l)break;var h="recent",v=n.region;n.times>=10&&(h="favorite"),"sg"==v&&(v="sea"),c.push('<a href="'+config.baseurlp+n.region+"/"+n.name+'" id="'+h+'">'+n.name+' <span class="region_tile">'+v+"</span></a> ")}$(".recent-searchs").html(c.join(""))}break;default:console.log("default")}return i},e.handleStorage=function(e,a,t){var i=0;switch(e){case"get":i=JSON.parse(localStorage.getItem(a));break;case"set":i=localStorage.setItem(a,JSON.stringify(t));break;case"delete":i=localStorage.clear(a);default:i=console.log("Error!","Empty handleStorage()")}return i},e.init=function(a){e.openPage(a),e.grabRegion(),e.changeRegion(),e.addClicks(),e.Searches("generate"),$(".region").hide()},e.changeRegion=function(){var e=Cookies.get("region"),a=Cookies.get("title");e&&($(".region_input").data("region",e),$(".region_input").html(a))},e}();(function(e){e.fn.paginate=function(a){var t=e.extend({},e.fn.paginate.defaults,a),i={},s=0,r=e(this),l=t.itemsPerPage,n=r.children().length;return i.init=function(){return r.children().hide(),e(t.viewmore).show(),r.children().slice(0,t.itemsPerPage).show(),s+=l,s>=n&&e(t.viewmore).hide(),i},i.showhero=function(a){r.children().hide(),s=5;var i=r.children("[data-gohero='"+a+"']");i.slice(0,l).slideDown(),e(t.viewmore_hero).data("name",null),e(t.viewmore_hero).fadeIn().data("hero",a),i.length<=s&&e(t.viewmore_hero).hide(),e(t.viewmore).hide(),e(t.viewall).show()},i.showsearch=function(a){r.children().hide(),s=5;var i=r.children("div:contains('"+a+"')");i.slice(0,l).slideDown(),e(t.viewmore_hero).data("hero",null),e(t.viewmore_hero).fadeIn().data("name",a),i.length<=s&&e(t.viewmore_hero).hide(),e(t.viewmore).hide(),e(t.viewall).show()},i.show=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2",o=r.children();if(a&&2==i&&(o=r.children("[data-gohero='"+a+"']")),a&&1==i&&(o=r.children("div:contains('"+a+"')")),3==i)var o=r.children();n=o.length;for(var d=s;d<s+l;d++)e(o.eq(d)).fadeIn();s+=l,e(t.viewall).show(),s>=n&&(e(t.viewmore).hide(),e(t.viewmore_hero).hide())},i.reset=function(){s=0,r.children().hide(),e(t.viewmore).show(),i.show(),e(t.viewall).hide(),e(t.viewmore_hero).hide()},i.init()},e.fn.paginate.defaults={itemsPerPage:5,viewmore:".view_more",viewmore_hero:"#hero_history",viewall:"#view_all"}})(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){function a(){var a=r.settings;if(a.autoDispose&&!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var l=t(this);return isNaN(l.datetime)||(0===a.cutoff||Math.abs(s(l.datetime))<a.cutoff?e(this).text(i(l.datetime)):e(this).attr("title").length>0&&e(this).text(e(this).attr("title"))),this}function t(a){if(a=e(a),!a.data("timeago")){a.data("timeago",{datetime:r.datetime(a)});var t=e.trim(a.text());r.settings.localeTitle?a.attr("title",a.data("timeago").datetime.toLocaleString()):!(t.length>0)||r.isTime(a)&&a.attr("title")||a.attr("title",t)}return a.data("timeago")}function i(e){return r.inWords(s(e))}function s(e){return(new Date).getTime()-e.getTime()}e.timeago=function(a){return i(a instanceof Date?a:"string"==typeof a?e.timeago.parse(a):"number"==typeof a?new Date(a):e.timeago.datetime(a))};var r=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"just now",minute:"a minute",minutes:"%d minutes",hour:"an hour",hours:"%d hours",day:"a day",days:"%d days",month:"a month",months:"%d months",year:"a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(a){function t(t,s){var r=e.isFunction(t)?t(s,a):t,l=i.numbers&&i.numbers[s]||s;return r.replace(/%d/i,l)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,s=i.prefixAgo,r=i.suffixAgo;if(this.settings.allowFuture&&a<0&&(s=i.prefixFromNow,r=i.suffixFromNow),!this.settings.allowPast&&a>=0)return this.settings.strings.inPast;var l=Math.abs(a)/1e3,n=l/60,o=n/60,d=o/24,c=d/365,h=l<45&&t(i.seconds,Math.round(l))||l<90&&t(i.minute,1)||n<45&&t(i.minutes,Math.round(n))||n<90&&t(i.hour,1)||o<24&&t(i.hours,Math.round(o))||o<42&&t(i.day,1)||d<30&&t(i.days,Math.round(d))||d<45&&t(i.month,1)||d<365&&t(i.months,Math.round(d/30))||c<1.5&&t(i.year,1)||t(i.years,Math.round(c)),v=i.wordSeparator||"";return void 0===i.wordSeparator&&(v=" "),e.trim([s,h,r].join(v))},parse:function(a){var t=e.trim(a);return t=t.replace(/\.\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),t=t.replace(/([\+\-]\d\d)$/," $100"),new Date(t)},datetime:function(a){var t=r.isTime(a)?e(a).attr("datetime"):e(a).attr("title");return r.parse(t)},isTime:function(e){}});var l={init:function(){l.dispose.call(this);var t=e.proxy(a,this);t();var i=r.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(t,i.refreshMillis))},update:function(t){var i=t instanceof Date?t:r.parse(t);e(this).data("timeago",{datetime:i}),r.settings.localeTitle&&e(this).attr("title",i.toLocaleString()),a.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:r.parse(r.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),a.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,a){var t=e?l[e]:l.init;if(!t)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){t.call(this,a)}),this},document.createElement("abbr"),document.createElement("time")});var playerData=function(){var e={},a=window.location.pathname.split("/").slice(1);return e.webapi=config.webapi,e.baseurlp=config.baseurlp,e.region=a[1],e.player=a[2],e.timerStartClaus=Date.now(),e.type="all",e.lastMatch=0,e.init=function(){document.title=e.player+" - VGPRO.gg",$(".profile_name").html(e.player),e.gatherMatchData(e.webapi,e.player,e.region,e.type),$(".profile_stuff .profile_name").width()>230&&$(".profile_stuff .profile_name").css({fontSize:"30px"})},e.changeType=function(a){e.timerStart=Date.now(),e.timerStartClaus=Date.now(),$(".profile_title").html(""),$(".old_open_load").addClass("open_load").removeClass("old_open_load"),$(".loading_all").show(),$(".sidebar .recent_played").html(""),$(".sidebar .champions").html(""),$(".match_history").html(""),$(".profile .profile_desc .heroes_img_space").html(""),$(".profile .profile_desc .recent_results").html(""),e.gatherMatchData(e.webapi,e.player,e.region,a)},e.generateTitles=function(e){e&&($.each(e[0],function(e,a){$(".profile_title").append("<span>"+a.title+" "+a.extra+"</span>")}),$(".profile_title").show())},e.gatherProData=function(a,t,i){var s=a+"/pro/"+i+"/"+t;$.ajax({dataType:"json",type:"GET",url:s,success:e.gatherProDataYes,error:e.Error})},e.gatherProDataNo=function(a){var t=parseInt(e.SkillTier)+2;$(".profile .profile_hero").html("<div class='hero_img' style='background-image: url(assets/images/skilltier/"+t+".png);'></div>"),e.generateTitles(a.Titles)},e.forceMatch=function(){$(".sidebar .recent_played").html(""),$(".sidebar .champions").html(""),$(".match_history").html(""),$(".profile .profile_desc .heroes_img_space").html(""),$(".profile .profile_desc .recent_results").html(""),e.gatherMatchData(e.webapi,e.player,e.region,"all","force")},e.gatherMatchData=function(a,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",r=arguments.length>4&&void 0!==arguments[4]?"?force=true":" ",l=a+"matches/"+i+"/"+t+"/"+s+"/"+r;$.ajax({dataType:"json",type:"GET",url:l,success:e.gatherMatchDataYes,error:e.Error})},e.gatherPlayerData=function(a,t,i){var s=a+"player/"+i+"/"+t;$.ajax({dataType:"json",type:"GET",url:s,success:e.gatherPlayerDataYes})},e.gatherProDataYes=function(a){var t={};return e.loadtimePro=(Date.now()-e.timerStartPro)/1e3,$(".loadtime").html(e.loadTimeDom+"s / "+e.loadtimeClaus+"s / "+e.loadtimePro+"s"),"Error"in a?e.gatherProDataNo(a):(t.ign=a.Player.ign,t.role=a.Player.role,t.teamtag=a.Team.tag,t.country=a.Player.country,t.national=a.Player.national,t.ppic=a.Player.profile_pic,t.teamname=a.Team.name,$(".profile_hero").addClass("profile_img").removeClass("profile_hero"),void e.generateProfileData(t))},e.gatherPlayerDataYes=function(e){var a={};a.id=e[0].id,a.name=e[0].name,a.level=e[0].level,a.lifetimeGold=e[0].stats.lifetimeGold,a.wins=e[0].stats.wins,a.xp=e[0].stats.xp,a.loss=e[0].extras.lost,a.wl_total=e[0].extras.wl_total},e.Error=function(e){var a=config.link+"error?505";if("errors"in e){var a=config.link+"error?404";return window.location.href=a,!1}var t=$('<form action="'+a+'" method="post"><input type="text" name="error_url" value="'+window.location.href+'" /><input type="text" name="response" value="'+e.responseText+'" /><input type="text" name="status" value="'+e.statusText+'" /></form>');$("body").append(t),t.submit()},e.generateLastUpdate=function(e){return!(e>Date.now-500)&&($(".update").addClass("updated").html(" "+jQuery.timeago(new Date(1e3*e).toISOString())),void $(".update").localize())},e.gatherMatchDataYes=function(a){if("errors"in a)return e.Error(a);e.timerStart=Date.now();e.topheroes_api=a.Stats.Heroes;var t=0;$.each(e.topheroes_api,function(a){return a=a.toLowerCase(),e.generateTopHeroesProfile(a),!(t>=3)&&void t++}),e.lastupdate=a.Data.LastUpdate,e.generateLastUpdate(e.lastupdate),e.matchdata=a.Data.Matches,e.recentplayed=a.Stats.PlayedWith,e.generateMatchHistoryDiv(e.matchdata),e.redSide=a.Stats.Red,e.SkillTier=a.Stats.SkillTier,e.blueSide=a.Stats.Blue,a.Stats.Ranking?e.generateRanking(a.Stats.Rating,a.Stats.Ranking):$(".body_box #alert_ranked").show(),e.generateRecentResults(a.Stats.RecentResults),e.generateKDAtotal(a.Stats.KDA,a.Stats.avgKill,a.Stats.avgAssist,a.Stats.avgDeaths),e.generateChartWin(a.Stats.winrate,a.Stats.totalWin,a.Stats.totalLoss),e.generateChartkp(a.Stats.KP,a.Stats.KillsAssisted,a.Stats.KillsNotAssisted),e.generateChartRoles(a.Stats.Roles),e.generateSideChart(e.redSide,e.blueSide),e.generateGameMode(a.Stats.gameMode,a.Stats.totalMatches),e.generateTopHeroes(e.topheroes_api),e.generateDropHeroes(e.topheroes_api),e.generateMatchFilter(a.Stats.totalMatches,a.Stats.Kills,a.Stats.Deaths,a.Stats.totalFarm,a.Stats.KrakenCap,a.Stats.totalAce),e.generateRecentPlayed(e.recentplayed),e.generateAKA(a.Stats.AKA),e.timerStartPro=Date.now(),e.gatherProData(e.webapi,e.player,e.region,e.type),e.loadtimeClaus=(Date.now()-e.timerStartClaus)/1e3,e.loadTimeDom=(Date.now()-e.timerStart)/1e3,$(".loading_all").hide(),$(".open_load").removeClass("open_load").addClass("old_open_load")},e.generateRanking=function(a,t){var i=[],s=e.giveRatingstyle(a),r=e.region;"sg"==r&&(r="SEA"),i.push('<div class="rating_number" id='+s+">"+a+"</div>"),i.push('<div class="rating_caption" data-tooltip="VGPRO RATING">VPR</div>'),i.push('<div class="position"><span>#'+t.global+"</span> GLOBAL</div>"),i.push('<div class="position"><span>#'+t.region+"</span> REGION "+r+"</div>"),$(".body_box .rating").html(i.join(""))},e.generateRecentPlayed=function(a){$.each(a,function(a,t){var i=e.giveWRstyle(t.Winrate),s='<a href="'+e.baseurlp+e.region+"/"+a+'" target="_self"><div class="recent_played_each">';s+='<div class="recent_played_name">'+a+"</div>",s+='<div class="recent_played_win">'+t.Win+"W</div>",s+='<div class="recent_played_loss">'+t.Loss+"L</div>",s+='<div class="recent_played_winrate" id="'+i+'">'+t.Winrate+"%</div>",s+='<div class="recent_played_games" data-i18n="[append]sidebar-played">'+t.Total+" </div></div></a>",$(s).appendTo(".sidebar .recent_played").hide().fadeIn().localize()}),e.recentplayedPag=$(".sidebar .recent_played").paginate({viewmore:".view_more#recent",viewall:".view_more#recentreset"})},e.generateMatchFilter=function(e,a,t,i,s,r){$(".match_filter .stats_each#cs .stats_qty").html((Math.round(i/e*100)/100).toFixed(0)),$(".match_filter .stats_each#krakens .stats_qty").html((Math.round(s/e*100)/100).toFixed(1)),$(".match_filter .stats_each#aces .stats_qty").html((Math.round(r/e*100)/100).toFixed(1))},e.generateGameMode=function(e,a){if($(".gamemode").length>1)return!1;var t='<div class="gamemode select" id="all" data-i18n="[prepend]all"> ('+a+")</div>";$.each(e,function(e,a){t+='<div class="gamemode" id="'+e+'" data-i18n="[prepend]'+e.replace("-"," ")+'"> <span>('+a+")</span></div>"}),$(".gamemodes").html(t).localize()},e.generateAKA=function(a){if(a.length<=0)return!1;$(".aka").fadeIn();var t=[];$.each(a,function(a,i){t.push("<a href='"+e.baseurlp+e.region+"/"+i+"' target='_self'>"),t.push("<span>"+i+"</span>"),t.push("</a>")}),$(".aka_names").html(t.join(""))},e.giveRatingstyle=function(e){var a="";return e>=2e3&&(a="avg"),e>=2600&&(a="high"),e>=2950&&(a="superhigh"),e<=1900&&(a="low"),e<=1e3&&(a="suplow"),a},e.giveWRstyle=function(e){var a="";return e>=60&&(a="avg"),e>=70&&(a="high"),e>=85&&(a="superhigh"),e<=45&&(a="low"),e<=35&&(a="suplow"),a},e.generateDropHeroes=function(e){$("select.heroes_x").html('<option selected value="all" data-i18n="[html]all">All</option>'),$.each(e,function(e,a){var t='<option style="background-image:url(assets/images/heroes/'+e.toLowerCase()+'.gif);" value="'+e.toLowerCase()+'">'+e+"</option>";$("select.heroes_x").append(t)})},e.generateTopHeroes=function(a){var t=[];$.each(a,function(a,i){var s=e.giveWRstyle(i.Winrate);t.push('<div class="hero_each" data-hero="'+a.toLowerCase()+'">'),t.push('<div class="hero_img" style="background-image: url(assets/images/heroes/'+a.toLowerCase()+'.gif)"></div>'),t.push('<div class="hero_name">'+a+"</div>"),t.push('<div class="hero_kda"><span data-tooltip="Avg. CS per game" data-i18n="[data-tooltip]avgcs">'+Math.round(i.totalFarm/i.totalMatches).toFixed(1)+' CS</span><span class="kda" data-tooltip="('+i.totalKills+" K + "+i.totalAssists+" A) / "+i.totalDeaths+' D" data-i18n="[append]kda"> '+i.kda+" </span></div>"),t.push('<div class="hero_winrate" id="'+s+'" data-tooltip="'+i.totalVictory+"W "+i.totalLoss+' L" >'+i.Winrate+"%</div>"),t.push('<div class="hero_games" data-i18n="[append]sidebar-played">'+i.totalMatches+" </div></div>")}),$(".sidebar .champions").append(t.join("")).localize(),e.topHeroesPag=$(".sidebar .champions").paginate({viewmore:".view_more#hero",viewall:".view_more#resethero"})},e.generateProfileData=function(e){$(".profile .profile_img").html("<div class='player_img' style='background-image: url(assets/"+e.ppic+");'></div>"),$(".profile .profile_team .team_name").html(e.teamname),$(".profile .profile_team .from").html(e.national+" <span class='flag-icon flag-icon-"+e.country+"'></span>"),$(".profile .profile_team .team_role").html("<span data-i18n='[html]role-"+e.role+"'></span>").localize(),$(".profile .profile_team").fadeIn()},e.generateChartWin=function(a,t,i){var s=a+"%",r=t+i,l=$.animateNumber.numberStepFactories.append("%");$(".profile_stats .winrate_ranked h3").animateNumber({number:s,numberStep:l}),$(".profile_stats .winrate_ranked .total_matches").animateNumber({number:r}),e.generateChartData(winrate_ranked,t,i)},e.generateSideChart=function(a,t){var i=(t.WinRate+"%",a.WinRate+"%",$.animateNumber.numberStepFactories.append("%"));$(".match_filter .redside h2").animateNumber({number:a.WinRate,numberStep:i}),$(".match_filter .blueside h2").animateNumber({number:t.WinRate,numberStep:i}),$(".match_filter .redside h3 span").animateNumber({number:a.Total}),$(".match_filter .blueside h3 span").animateNumber({number:t.Total}),e.generateChartData(blueside,t.Wins,t.Loss),e.generateChartData(redside,a.Wins,a.Loss)},e.generateChartRoles=function(a){$(".role_desc#captain").html("<span>"+a.Captain.Kills+"</span> /<span class='d'> "+a.Captain.Deaths+" </span>/ <span>"+a.Captain.Assists+"</span>"),$(".role_kda#captain").html(a.Captain.KDA+" ").localize(),$(".role_desc#jungler").html("<span>"+a.Jungler.Kills+"</span> /<span class='d'> "+a.Jungler.Deaths+" </span>/ <span>"+a.Jungler.Assists+"</span>"),$(".role_kda#jungler").html(a.Jungler.KDA+" ").localize(),$(".role_desc#carry").html("<span>"+a.Carry.Kills+"</span> /<span class='d'> "+a.Carry.Deaths+" </span>/ <span>"+a.Carry.Assists+"</span>"),$(".role_kda#carry").html(a.Carry.KDA+" ").localize(),$(".role_games#captain").html(a.Captain.Games+" ").localize(),$(".role_games#jungler").html(a.Jungler.Games+" ").localize(),$(".role_games#carry").html(a.Carry.Games+" ").localize();var t=e.giveWRstyle(a.Captain.Winrate),i=e.giveWRstyle(a.Jungler.Winrate),s=e.giveWRstyle(a.Carry.Winrate);$(".role_winrate#captain").html("<span id='"+t+"'>"+a.Captain.Winrate+"%</span>"),$(".role_winrate#jungler").html("<span id='"+i+"'>"+a.Jungler.Winrate+"%</span>"),$(".role_winrate#carry").html("<span id='"+s+"'>"+a.Carry.Winrate+"%</span>"),e.generateChartData(role_chart,a.Carry.Games,a.Captain.Games,a.Jungler.Games)},e.generateRecentResults=function(e){$.each(e,function(e,a){a=1==a?"v":"d";var t=$(".profile .profile_desc .recent_results");t.append('<div class="match_result" id="'+a+'"></div>')})},e.generateTopHeroesProfile=function(e){$(".profile .profile_desc .heroes_img_space").append('<div class="heroes_img" data-hero="'+e+'" style="background-image: url(assets/images/heroes/'+e+'.gif);"></div>')},e.generateKDAtotal=function(e,a,t,i){var s=function(e,a){e=e.toString(),nowx=e.slice(0,1)+"."+e.slice(1,3),e.length>=4&&(nowx=e.slice(0,2)+"."+e.slice(2,4)),e.length<=1&&(nowx=e);var t=$(a.elem);t.text(nowx)};$(".profile_stats .kda h1 span").animateNumber({number:e,numberStep:s}),$(".profile_stats .kda h4 span#kills").animateNumber({number:a,numberStep:s}),$(".profile_stats .kda h4 span#assist").animateNumber({number:t,numberStep:s}),$(".profile_stats .kda h4 span#mortes").animateNumber({number:i,numberStep:s})},e.generateChartkp=function(a,t,i){var s=a+"%",r=$.animateNumber.numberStepFactories.append("%");$(".profile_stats .kp h3").animateNumber({number:s,numberStep:r}),e.generateChartData(killparticipation,t,i)},e.generateChartData=function(e,a,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";e.data.datasets[0].data[0]=a,e.data.datasets[0].data[1]=t,e.data.datasets[0].data[2]=i,e.data.datasets[0].data[3]=s,e.update()},$(".view_more#match_history").click(function(){e.paginate.show()}),$(".gamemodes").on("click",".gamemode",function(e){var a=$(this).attr("id");playerData.changeType(a),$(".gamemode").removeClass("select"),$(this).addClass("select")}),$(".view_more#hero_history").click(function(){var a=$(this).data("hero");if(null==a){var a=$(this).data("name");return e.paginate.show(a,"1"),!1}e.paginate.show(a)}),$(".search_team").change(function(){var a=$(".search_team").val();e.paginate.showsearch(a)}),$(".heroes_x").change(function(){var a=this.value;return"all"==a?(e.paginate.reset(),!1):void e.paginate.showhero(a)}),$(".view_more#view_all").click(function(){$(".search_team").val(""),e.paginate.reset()}),$(".view_more#resethero").click(function(){e.topHeroesPag.reset()}),$(".view_more#recentreset").click(function(){e.recentplayedPag.reset()}),$("body").on("click","[data-hero]",function(a){var t=$(this).data("hero");e.paginate.showhero(t)}),$(".view_more#hero").click(function(){e.topHeroesPag.show()}),$(".view_more#recent").click(function(){e.recentplayedPag.show()}),$(".match_history").on("click",".match_history_box",function(e){if(!$(e.target).is("[class^='player']")){var a=$(this).data("id");matchData.create(a)}}),e.generateMatchHistoryDiv=function(a){for(var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"5",0),i=(a.length,[]),t=0;t<a.length;t++){matchdata=a[t];var s="d";1==matchdata.Winner&&(s="v"),0==matchdata.deaths&&(matchdata.kda='<font color="green" style="font-size: 12px;"><b data-i18n="[html]perfect-kda"></b></font>'),i.push('<div class="each_match" data-gohero="'+matchdata.actor+'"><div class="match_history_box" data-gohero="'+matchdata.actor+'" data-id="'+matchdata.MId+'"><div class="match_history_title" id="'+s+'">'),i.push('<b data-i18n="[html]'+matchdata.TypeMatch+'"></b> - '+jQuery.timeago(matchdata.MatchDateTime)+" - "+matchdata.duration),
i.push('<span class="viewmore" data-i18n="match-details"></span></div>'),i.push('<div class="hero_img" data-tooltip="'+matchdata.actor+'" style="background-image: url(assets/images/heroes/'+matchdata.actor+'.gif)"></div>'),i.push('<div class="kda" ><span class="kills">'+matchdata.kills+'</span> / <span class="deaths">'+matchdata.deaths+'</span> / <span class="assists">'+matchdata.assists+"</span>"),i.push('<span class="totalkda" data-i18n="[append]kda" data-tooltip="('+matchdata.deaths+" k + "+matchdata.assists+" a) / "+matchdata.deaths+' d"><span>'+matchdata.kda+"</span> </span></div>"),i.push('<div class="stats"><div class="role" data-i18n="[html]role-'+matchdata.Role+'">'+matchdata.Role+'</div><!--<div class="gold">'+matchdata.gold+" ("+matchdata.gmin+' g/min)</div>--><div class="cs" data-tooltip="'+matchdata.jungleKills+' Jungle Kills">'+matchdata.farm+" CS ("+matchdata.csmin+" cs/min)</div></div>"),i.push('<div class="items">'),$.each(matchdata.Items,function(e,a){i.push('<div class="item_img" data-tooltip="'+a.replace(/-/g," ")+'" style="background-image: url(assets/images/items/'+a+'.png)"></div>')}),i.push("</div>"),i.push('<div class="player_list"><div class="aside">'),$.each(matchdata.RedTeam.Players,function(a,t){var s="";matchdata.player==t.name&&(s="name"),i.push('<a href="'+e.baseurlp+e.region+"/"+t.name+'" target="_self">'),i.push('<div class="player_list_name" id="'+s+'"><div class="player_list_hero" style="background-image: url(assets/images/heroes/'+t.actor+'.gif)"></div><span class="player_name">'+t.name+"</span></div></a>")}),i.push("</div>"),i.push('<div class="bside">'),$.each(matchdata.BlueTeam.Players,function(a,t){var s="";matchdata.player==t.name&&(s="name"),i.push('<a href="'+e.baseurlp+e.region+"/"+t.name+'" target="_self">'),i.push('<div class="player_list_name" id="'+s+'"><div class="player_list_hero" style="background-image: url(assets/images/heroes/'+t.actor+'.gif)"></div><span class="player_name">'+t.name+"</span></div></a>")}),i.push("</div>"),i.push("</div></div>"),i.push('<div class="match_history_more" id="'+matchdata.MId+'"></div></div>')}$(".match_history").append(i.join("")).localize(),e.paginate=$(".match_history").paginate({viewmore:".view_more#match_history",itemsPerPage:8})},e}(),frontpage=function(){"use strict";var e={};return e.loadHeroes=function(){var a=config.webapi+"/topheroes";$.ajax({dataType:"json",type:"GET",url:a,success:e.loadStats})},e.loadLeadboard=function(){var a=config.webapi+"/topfive";$.ajax({dataType:"json",type:"GET",url:a,success:e.loaddivLeadboard})},e.loaddivLeadboard=function(a){var t=[];$.each(a,function(e,a){t.push('<div class="eachregion" id="'+e+'" style="display:none;">'),$.each(a,function(a,i){var s=parseInt(i.tier)+2;t.push('<a href="'+config.baseurlp+i.region+"/"+i.name+'" target="_self">');var r=i.region;"sg"==e&&(r="SEA"),t.push('<div class="eachdata"><div class="number"><span>'+a+'</span></div><div class="skilltier"><div class="skilltier_img" style="background-image:url(/assets/images/skilltier/'+s+'.png)"></div></div><div class="player_name"><span>'+r+"</span>"+i.name+'</div><div class="KDA">'+i.kda+'</div><div class="rating">'+i.rating+"</div></div>"),t.push("</a>")}),t.push("</div>")}),$(".box_content_leadboard").html(t.join("")),e.showRegion("all")},e.showRegion=function(e){$(".box_content_leadboard .eachregion").hide(),$(".box_content_leadboard .eachregion#"+e).show()},e.loadStats=function(e){var a=[],t=[];$.each(e,function(e,i){var s=i.WinRate,r=Object.keys(s).length-1,l=e;"sg"==e&&(l="SEA"),t.push('<div class="eachdata"><div class="reg"><span>'+l+"</span></div>"),t.push('<div class="hero_w"><div class="hero_img" style="background-image: url(assets/images/heroes/'+Object.keys(i.WinRate)[0].toLowerCase()+'.gif);"></div><div class="hero_name">'+Object.keys(i.WinRate)[0]+'</div><div class="hero_value">'+i.WinRate[Object.keys(i.WinRate)[0]]+"%</div></div>"),t.push('<div class="hero_l"><div class="hero_img" style="background-image: url(assets/images/heroes/'+Object.keys(i.WinRate)[r].toLowerCase()+'.gif);"></div><div class="hero_name">'+Object.keys(i.WinRate)[r]+'</div><div class="hero_value">'+i.WinRate[Object.keys(i.WinRate)[r]]+"%</div></div>"),t.push("</div>"),a.push('<div class="eachdata"><div class="reg"><span>'+l+"</span></div>"),a.push('<div class="hero_w"><div class="hero_img" style="background-image: url(assets/images/heroes/'+Object.keys(i.PickRate)[0].toLowerCase()+'.gif);"></div><div class="hero_name">'+Object.keys(i.PickRate)[0]+'</div><div class="hero_value">'+i.PickRate[Object.keys(i.PickRate)[0]]+"%</div></div>"),a.push('<div class="hero_l"><div class="hero_img" style="background-image: url(assets/images/heroes/'+Object.keys(i.PickRate)[r].toLowerCase()+'.gif);"></div><div class="hero_name">'+Object.keys(i.PickRate)[r]+'</div><div class="hero_value">'+i.PickRate[Object.keys(i.PickRate)[r]]+"%</div></div>"),a.push("</div>")}),$(".box_content_winrate").html(t.join("")),$(".box_content_pickrate").html(a.join(""))},e.loadApi=function(){var a=arguments.length>=0&&void 0!==arguments[0]?arguments[0]:"",t=config.webapi+"/promatches/"+a;$.ajax({dataType:"json",type:"GET",url:t,success:e.loadData})},e.loadData=function(a){e.response=a,e.generateData(e.response)},e.generateData=function(a){$(".pro-feed_history").html("");var t=[];$.each(a,function(e,a){var i="Loss";1==a.winner&&(i="Win");var s=a.region;"sg"==s&&(s="SEA"),t.push('<a href="'+config.baseurlp+a.region+"/"+a.ign+'" target="_self" class="match">  '),t.push('<div class="time">'+jQuery.timeago(a.when)+"</div>  "),t.push('<div class="reg"><span>'+s+"</span></div> "),t.push('<div class="photo">'),t.push('<div class="pro_img" style="background-image: url(assets/'+a.ProfilePic+');"></div>    '),t.push('<div class="hero_img" style="background-image: url(assets/images/heroes/'+a.actor+'.gif);"></div> '),t.push('</div><div class="player_name">'+a.ign+"</div> "),t.push('<div class="victory" id="'+i+'" data-i18n="[html]'+i+'"></div> '),t.push('<div class="kda">'+a.kills+"/"+a.deaths+"/"+a.assists+"</div>"),t.push('<div class="role" data-i18n="[html]role-'+a.role+'"></div>'),t.push('<div class="item">'),$.each(a.Items,function(e,a){t.push('<div class="item_img" data-tooltip="'+a.replace(/-/g," ")+'" style="background-image: url(assets/images/items/'+a+'.png)"></div>')}),t.push("</div></a>")}),$(".pro-feed_history").append(t.join("")).localize(),e.profeedpag=$(".pro-feed_history").paginate({viewmore:".view_more#more",viewall:".view_more#reset",itemsPerPage:10})},e.init=function(){e.loadApi(),e.loadLeadboard(),e.loadHeroes(),$(".region_leadboard").change(function(a){e.showRegion($(this).val())}),$(".view_more#more").click(function(a){e.profeedpag.show()}),$(".view_more#reset").click(function(a){e.profeedpag.reset()})},e}(),matchData=function(){var e={},a=window.location.pathname.split("/").slice(1);return e.region=a[1],e.timerStart=Date.now(),e.width="746",e.height="290",e.canvas_width=1234,e.canvas_height=480,e.scaling=e.width/e.canvas_width,e.scaled_width=e.canvas_width*e.scaling,e.scaled_height=e.canvas_height*e.scaling,e.transformX=function(a){return(a- -93)*(e.scaled_width/185)/e.width*100},e.transformY=function(a){return(a- -25)*(e.scaled_height/75)/e.height*100},e.transformXraw=function(a){return(a- -93)*(e.scaled_width/185)},e.transformYraw=function(a){return(a- -25)*(e.scaled_height/75)},e.create=function(a){var t=$(".match_history_more#"+a);0==t.is(":visible")?(t.html('<svg class="circular"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>'),t.slideDown("fast",function(){e.getMatch(a)})):t.slideUp("slow",function(){t.html("")})},e.getMatch=function(a){var t=config.webapi+"/match/"+e.region+"/"+a+"/";$.ajax({dataType:"json",type:"GET",url:t,success:e.generateMatch,error:e.Error})},e.getTelemetry=function(a){var t=config.telemetry+a;$.ajax({dataType:"json",type:"GET",url:t,success:e.generateTelemetry,error:e.Error})},e.formatNum=function(e){return e>999?(e/1e3).toFixed(1)+"k":e},e.generateTelemetry=function(a){var t={},s=[],t={},s=[];if("errors"in a)return $(".match_history_more#"+e.ID+" .damage span").html("NOT AVAILABLE"),!1;$.each(a.Vision,function(a,t){var i=[],s=h337.create({container:document.querySelector(".heat_map_"+a+e.ID),maxOpacity:.5});$.each(t,function(a,t){var s=[];s.x=Math.round(e.transformXraw(t.Location[0])),s.y=Math.round(e.transformYraw(t.Location[2])),s.value=t.Value,i.push(s)}),s.setData({max:7,data:i});var s=""}),$.each(a.Facts,function(a,r){$.each(r,function(r,l){var n=a+r.toLowerCase();s.push(l.Delt),t[n]=l.Delt,i=1;var o=($("canvas#"+n),{labels:[],datasets:[{data:[],backgroundColor:[]}]});x=0,$.each(l.GoldSource,function(a,t){o.datasets[0].backgroundColor[x]=e.gerarCor(a),o.labels[x]=a,o.datasets[0].data[x]=t,x++}),$.each(l.SkillOverDrive,function(a,t){$("#"+e.ID+" .content_builds .overdrive_content#"+n).append('<div class="skill_img" style="background-image: url(assets/images/abilities/'+t+'.png)"></div>')}),$.each(l.Items,function(a,t){$("#"+e.ID+" .content_builds .build_wrap#"+n).append('<div class="item"><div class="item_img" style="background-image: url(assets/images/items/'+t.Item.toLowerCase().replace(/ /g,"-")+'.png)"></div><div class="item_time">'+t.Time+"</div></div>")}),$.each(l.Skill,function(a,t){$("#"+e.ID+" .content_builds .skill_order#"+n+" ."+t+".level_"+i).addClass("levelup"),i++}),$.each(l.Kills,function(t,i){$("#"+e.ID+" .content_killmap .map").append("<div class='point "+a+"' data-tooltip='"+r+" killed "+i.Killed+"' data-type='kill' data-name='"+n+"' style='background-color:"+e.gerarCor(n)+";top: "+e.transformY(i.Position[2])+"%;left: "+e.transformX(i.Position[0])+"%;'> </div>")}),$.each(l.Deaths,function(t,i){$("#"+e.ID+" .content_killmap .map").append("<div class='point' data-type='death' data-tooltip='"+i.Actor+" killed "+r+"' data-name='"+a+i.Killed.toLowerCase()+"' style='display:none;background-color:white;top: "+e.transformY(i.Position[2])+"%;left: "+e.transformX(i.Position[0])+"%;'> </div>")}),$("#"+e.ID+" .build_heroes:contains('"+playerData.player+"')").click(),$("#"+e.ID+" .stats_heroes:contains('"+playerData.player+"')").click(),$("#"+e.ID+" .vision_team[data-side='Blue']").click(),$("#"+e.ID+" .content_builds .skill_order#"+n+" ."+r.toLowerCase()+"_c.levelup").length>="3"&&$("#"+e.ID+" .builds_content .overdrive_content#"+n).append('<div class="skill_img" style="background-image: url(assets/images/abilities/'+r.toLowerCase()+'_c.png)"></div>')})});var r=Math.max.apply(Math,s);$.each(t,function(t,i){$(".damage#"+a.id+"[data-dmg='"+t+"'] span").html(e.formatNum(i));var s=Math.round(i/r*100);$(".damage#"+a.id+"[data-dmg='"+t+"'] .bar .fill").width(s),$("#"+e.ID+" .damages_chart#"+t+" .damageDoneHeroes .damage-fill").width(s)})},e.gerarCor=function(e){for(var a=0,t=0;a<e.length;t=e.charCodeAt(a++)+((t<<5)-t));return color=Math.floor(Math.abs(1e4*Math.sin(t)%1*16777216)).toString(16),"#"+Array(6-color.length+1).join("0")+color},e.Error=function(e){},$("body").on("click",".tab",function(e){var a=$(this).attr("id"),t=$(this).data("match");$("#"+t+" .more_overview").children().hide(),$("#"+t+" .tab").removeClass("select"),$(this).addClass("select"),$("#"+t+" .content_"+a).fadeIn()}),$("body").on("click",".killmap_heroes",function(a){return 1==$(this).hasClass("selected")?($("#"+$(this).data("match")+" .content_killmap .map").children().hide(),$("#"+$(this).data("match")+" .content_killmap .map").children("div[data-type='kill']").show(),$(".killmap_heroes").removeClass("selected"),!1):($(".killmap_heroes").removeClass("selected"),$(this).addClass("selected"),void e.filterMapHero($(this).data("match"),$(this).data("name"),$(this).data("side")))}),$("body").on("click",".build_heroes",function(a){return 1!=$(this).hasClass("selected")&&($(".build_heroes").removeClass("selected"),$(this).addClass("selected"),void e.filterBuild($(this).data("match"),$(this).data("name"),$(this).data("side")))}),$("body").on("click",".stats_heroes",function(a){return 1!=$(this).hasClass("selected")&&($(".stats_heroes").removeClass("selected"),$(this).addClass("selected"),void e.filterStats($(this).data("match"),$(this).data("name"),$(this).data("side")))}),$("body").on("click",".vision_team",function(a){return 1!=$(this).hasClass("selected")&&($(".vision_team").removeClass("selected"),$(this).addClass("selected"),void e.filterVision($(this).data("match"),$(this).data("name"),$(this).data("side")))}),e.filterStats=function(e,a,t){$(".stats_load").hide(),$("#"+e+" .hero_stats_each").hide(),$("#"+e+" .hero_stats_each."+t+a+"_each_stats").fadeIn()},e.filterVision=function(e,a,t){$(".stats_load").hide(),$("#"+e+" .heatmap").hide(),$("#"+e+" .heat_map_"+t+e).fadeIn()},e.filterBuild=function(e,a,t){$(".build_load").hide(),$("#"+e+" .heroes_build").hide(),$("#"+e+" .heroes_build."+t+a+"_build").fadeIn()},e.filterMapHero=function(e,a,t){$("#"+e+" .content_killmap .map").children().hide(),$("#"+e+" .content_killmap .map").children(".point[data-name="+t+a+"]").show()},e.generateMatch=function(a){var t=a.Data.Match,i=t.Teams,s={};s.Red={},s.Blue={};var r=[];r.push('<div class="tab_header">'),r.push('<div class="tab select" id="overview" data-match="'+t.MatchId+'" data-i18n="[html]overview">Overview</div> <div class="tab" id="killmap" data-match="'+t.MatchId+'" data-i18n="[html]kill-map">Kill Map</div><div class="tab" id="builds" data-match="'+t.MatchId+'" data-i18n="[html]builds-breakdown">Player Builds</div><div class="tab" id="vision" data-match="'+t.MatchId+'">Vision Map</div></div>'),r.push('<div class="more_overview" id="'+t.MatchId+'">'),r.push('<div class="content_overview" id="'+t.MatchId+'">'),$.each(i,function(a,i){var l=i.Players,n="Loss";"true"==i.Winner&&(n="Win"),r.push('<div class="sidestats"><div class="head_side"><div class="info" data-i18n="[append]'+a.toLowerCase()+'-side"><span id="'+n+'" data-i18n="[html]'+n+'">'+n+"</span> </div>"),r.push('<div class="items" data-i18n="[html]items">Items</div><div class="kda" data-i18n="[html]kda"></div>'),r.push('<div class="damage" data-i18n="[html]damage">Damage</div>'),r.push('<div class="cs">CS</div>'),r.push('<div class="tier" data-i18n="[html]tier">Tier</div></div>'),$.each(l,function(i,l){var n=l.Items;s[a][l.actor]=l,0==l.deaths&&(l.KDA='<font color="green" size="0.5" style="position:absolute;margin-left:-42px;margin-top:2px;"><b data-i18n="[html]perfect-kda">PERFECT</b></font>'),r.push('<div class="each"><div class="info"><a href="'+config.baseurlp+e.region+"/"+l.name+'" target="_self">'),r.push('<div class="hero_img" data-tooltip="'+l.actor+'" style="background-image: url(assets/images/heroes/'+l.actor+'.gif)"></div>'),r.push('<div class="player_name">'+l.name+"</div></a>"),r.push("</div>"),r.push('<div class="items">'),$.each(n,function(e,a){r.push('<div class="item_img" data-tooltip="'+a+'" style="background-image: url(assets/images/items/'+a+'.png)"></div>')}),r.push("</div>"),r.push('<div class="kda"><span class="kda">'+l.KDA+' KDA</span><span class="numb">'+l.kills+' / <span class="death">'+l.deaths+"</span> / "+l.assists+"</div></span>"),r.push('<div class="damage" id="'+t.MatchId+'" data-dmg="'+a+l.actor+'"><span>Loading.</span><div class="bar"><div class="fill" style="width:0;"></div></div></div>'),r.push('<div class="cs"><span class="total">'+l.farm+' cs</span><span class="jungle" data-i18n="[append]jungle">'+l.jungleKills+" </span></div>");var o=parseInt(l.skillTier)+2;r.push('<div class="tier" data-tooltip="'+l.skillName+" "+l.skillColor+'"><div class="tier_img" style="background-image: url(assets/images/skilltier/'+o+'.png)" ></div></div>'),r.push("</div>")}),r.push('<div class="team_stats">'),r.push('<div class="stats"><span class="name" id="sentrygun"></span>'),r.push('<span class="value" id="sentrygun"> '+i.TurretKills+"</span>"),r.push("</div>"),r.push('<div class="stats"><span class="name" data-i18n="[prepend]krakens">:</span>'),r.push('<span class="value"> '+i.Kraken+"</span>"),r.push("</div>"),r.push('<div class="stats"><span class="name" data-i18n="[prepend]gold">:</span>'),r.push('<span class="value"> '+i.Gold+"</span>"),r.push("</div>"),r.push('<div class="stats"><span class="name" data-i18n="[prepend]aces">:</span>'),r.push('<span class="value"> '+i.Aces+"</span>"),r.push("</div>"),r.push('<div class="stats" id="not"><span class="name" data-i18n="[prepend]kills">:</span>'),r.push('<span class="value"> '+i.TotalKills+"</span>"),r.push("</div>"),r.push('<div class="stats" id="not"><span class="name" data-i18n="[prepend]deaths">:</span>'),r.push('<span class="value"> '+i.TotalDeaths+"</span>"),r.push("</div>"),r.push('<div class="stats" id="not"><span class="name" data-i18n="[prepend]assists">:</span>'),r.push('<span class="value"> '+i.TotalAssists+"</span>"),r.push("</div>"),r.push("</div></div>")}),r.push("</div>"),r.push('<div class="content_killmap" style="display:none" id="'+t.MatchId+'">'),r.push(' <div class="more_team"><div class="more_wrap"><div class="more_nameT" data-i18n="[prepend]blue-side"></div>'),$.each(s.Blue,function(a,i){var s="Blue"+a.toLowerCase();r.push('<div class="more_heroes killmap_heroes" data-match="'+t.MatchId+'" data-side="Blue" data-name="'+a+'"><div class="more_hero_img" style="background-image: url(assets/images/heroes/'+a+".gif);border-left: 8px solid "+e.gerarCor(s)+'"></div><div class="more_hero_name">'+i.name+"</div></div>")}),r.push("</div></div>"),r.push('<div class="map"></div>'),r.push(' <div class="more_team"><div class="more_wrap"><div class="more_nameT red" data-i18n="[prepend]red-side"></div>'),$.each(s.Red,function(a,i){var s="Red"+a.toLowerCase();r.push('<div class="more_heroes killmap_heroes" data-match="'+t.MatchId+'" data-side="Red" data-name="'+a+'"><div class="more_hero_img" style="background-image: url(assets/images/heroes/'+a+".gif);border-left: 8px solid "+e.gerarCor(s)+'"></div><div class="more_hero_name">'+i.name+"</div></div>")}),r.push("</div></div>"),r.push("</div>"),r.push('<div class="content_builds" style="display:none" id="'+t.MatchId+'">'),r.push(' <div class="more_team"><div class="more_wrap"><div class="more_nameT" data-i18n="[prepend]blue-side"></div>'),$.each(s.Blue,function(e,a){var i="Blue"+e.toLowerCase();r.push('<div class="more_heroes build_heroes" data-herodata="'+i+'" data-match="'+t.MatchId+'" data-side="Blue" data-name="'+e+'"><div class="more_hero_img" style="background-image: url(assets/images/heroes/'+e+'.gif)"></div><div class="more_hero_name">'+a.name+"</div></div>")}),r.push("</div></div>"),r.push('<div class="more_team"><div class="more_wrap"><div class="more_nameT red" data-i18n="[prepend]red-side"></div>'),$.each(s.Red,function(e,a){var i="Red"+e.toLowerCase();r.push('<div class="more_heroes build_heroes" data-herodata="'+i+'" data-match="'+t.MatchId+'" data-side="Red" data-name="'+e+'"><div class="more_hero_img" style="background-image: url(assets/images/heroes/'+e+'.gif)"></div><div class="more_hero_name">'+a.name+"</div></div>")}),r.push("</div></div>"),r.push('<div class="builds_content" id="'+t.MatchId+'">'),$.each(s.Blue,function(e,a){var t="Blue"+e.toLowerCase();r.push('<div class="heroes_build '+t+'_build" style="display:none;">'),r.push('<div class="title" data-i18n="[html]skills">Skills</div><div class="skill_wrap"><div class="skill_overdrive"><h2 data-i18n="[html]overdrive">Overdrive</h2><div class="overdrive_content" id="'+t+'">'),r.push("</div></div>"),r.push('<div class="skill_order" id="'+t+'">'),r.push('<div class="skill a"><div class="skill_img" style="background-image: url(assets/images/abilities/'+e.toLowerCase()+'_a.png)"></div><div class="level '+e.toLowerCase()+'_a level_1">1</div> <div class="level '+e.toLowerCase()+'_a level_2 ">2</div> <div class="level '+e.toLowerCase()+'_a level_3">3</div> <div class="level '+e.toLowerCase()+'_a level_4">4</div> <div class="level '+e.toLowerCase()+'_a level_5">5</div> <div class="level '+e.toLowerCase()+'_a level_6">6</div> <div class="level '+e.toLowerCase()+'_a level_7">7</div> <div class="level '+e.toLowerCase()+'_a level_8">8</div> <div class="level '+e.toLowerCase()+'_a level_9">9</div> <div class="level '+e.toLowerCase()+'_a  level_10">10</div> <div class="level '+e.toLowerCase()+'_a  level_11">11</div> <div class="level '+e.toLowerCase()+'_a  level_12">12</div> </div>'),r.push('<div class="skill b"><div class="skill_img" style="background-image: url(assets/images/abilities/'+e.toLowerCase()+'_b.png)"></div><div class="level '+e.toLowerCase()+'_b level_1">1</div> <div class="level '+e.toLowerCase()+'_b level_2">2</div> <div class="level '+e.toLowerCase()+'_b level_3">3</div> <div class="level '+e.toLowerCase()+'_b level_4">4</div> <div class="level '+e.toLowerCase()+'_b level_5">5</div> <div class="level '+e.toLowerCase()+'_b level_6">6</div> <div class="level '+e.toLowerCase()+'_b level_7">7</div> <div class="level '+e.toLowerCase()+'_b level_8">8</div> <div class="level '+e.toLowerCase()+'_b level_9">9</div> <div class="level '+e.toLowerCase()+'_b level_10">10</div> <div class="level '+e.toLowerCase()+'_b level_11">11</div> <div class="level '+e.toLowerCase()+'_b level_12">12</div> </div>'),r.push('<div class="skill c"><div class="skill_img" style="background-image: url(assets/images/abilities/'+e.toLowerCase()+'_c.png)"></div><div class="level '+e.toLowerCase()+'_c level_1">1</div> <div class="level '+e.toLowerCase()+'_c level_2">2</div> <div class="level '+e.toLowerCase()+'_c level_3">3</div> <div class="level '+e.toLowerCase()+'_c level_4">4</div> <div class="level '+e.toLowerCase()+'_c level_5">5</div> <div class="level '+e.toLowerCase()+'_c level_6">6</div> <div class="level '+e.toLowerCase()+'_c level_7">7</div> <div class="level '+e.toLowerCase()+'_c level_8">8</div> <div class="level '+e.toLowerCase()+'_c level_9">9</div> <div class="level '+e.toLowerCase()+'_c level_10">10</div> <div class="level '+e.toLowerCase()+'_c level_11">11</div> <div class="level '+e.toLowerCase()+'_c level_12">12</div> </div>'),r.push("</div></div>"),r.push('<div class="title" data-i18n="[html]builds-breakdown">Build</div>'),r.push('<div class="build_wrap" id="'+t+'">'),r.push("</div></div>")}),r.push('<div class="build_load"><svg class="circular"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>'),$.each(s.Red,function(e,a){var t="Red"+e.toLowerCase();r.push('<div class="heroes_build '+t+'_build"  style="display:none;">'),r.push('<div class="title" data-i18n="[html]skills">Skills</div><div class="skill_wrap"><div class="skill_overdrive"><h2 data-i18n="[html]overdrive">Overdrive</h2><div class="overdrive_content" id="'+t+'">'),r.push("</div></div>"),r.push('<div class="skill_order" id="'+t+'">'),r.push('<div class="skill a"><div class="skill_img" style="background-image: url(http://vgpro.gg/assets/images/abilities/'+e.toLowerCase()+'_a.png)"></div><div class="level '+e.toLowerCase()+'_a level_1">1</div> <div class="level '+e.toLowerCase()+'_a level_2 ">2</div> <div class="level '+e.toLowerCase()+'_a level_3">3</div> <div class="level '+e.toLowerCase()+'_a level_4">4</div> <div class="level '+e.toLowerCase()+'_a level_5">5</div> <div class="level '+e.toLowerCase()+'_a level_6">6</div> <div class="level '+e.toLowerCase()+'_a level_7">7</div> <div class="level '+e.toLowerCase()+'_a level_8">8</div> <div class="level '+e.toLowerCase()+'_a level_9">9</div> <div class="level '+e.toLowerCase()+'_a  level_10">10</div> <div class="level '+e.toLowerCase()+'_a  level_11">11</div> <div class="level '+e.toLowerCase()+'_a  level_12">12</div> </div>'),r.push('<div class="skill b"><div class="skill_img" style="background-image: url(http://vgpro.gg/assets/images/abilities/'+e.toLowerCase()+'_b.png)"></div><div class="level '+e.toLowerCase()+'_b level_1">1</div> <div class="level '+e.toLowerCase()+'_b level_2">2</div> <div class="level '+e.toLowerCase()+'_b level_3">3</div> <div class="level '+e.toLowerCase()+'_b level_4">4</div> <div class="level '+e.toLowerCase()+'_b level_5">5</div> <div class="level '+e.toLowerCase()+'_b level_6">6</div> <div class="level '+e.toLowerCase()+'_b level_7">7</div> <div class="level '+e.toLowerCase()+'_b level_8">8</div> <div class="level '+e.toLowerCase()+'_b level_9">9</div> <div class="level '+e.toLowerCase()+'_b level_10">10</div> <div class="level '+e.toLowerCase()+'_b level_11">11</div> <div class="level '+e.toLowerCase()+'_b level_12">12</div> </div>'),r.push('<div class="skill c"><div class="skill_img" style="background-image: url(http://vgpro.gg/assets/images/abilities/'+e.toLowerCase()+'_c.png)"></div><div class="level '+e.toLowerCase()+'_c level_1">1</div> <div class="level '+e.toLowerCase()+'_c level_2">2</div> <div class="level '+e.toLowerCase()+'_c level_3">3</div> <div class="level '+e.toLowerCase()+'_c level_4">4</div> <div class="level '+e.toLowerCase()+'_c level_5">5</div> <div class="level '+e.toLowerCase()+'_c level_6">6</div> <div class="level '+e.toLowerCase()+'_c level_7">7</div> <div class="level '+e.toLowerCase()+'_c level_8">8</div> <div class="level '+e.toLowerCase()+'_c level_9">9</div> <div class="level '+e.toLowerCase()+'_c level_10">10</div> <div class="level '+e.toLowerCase()+'_c level_11">11</div> <div class="level '+e.toLowerCase()+'_c level_12">12</div> </div>'),r.push("</div></div>"),r.push('<div class="title" data-i18n="[html]builds-breakdown">Build</div>'),r.push('<div class="build_wrap" id="'+t+'">'),r.push("</div>"),r.push("</div>")}),r.push("</div>"),r.push("</div>"),r.push('<div class="content_vision" style="display:none" id="'+t.MatchId+'">'),r.push(' <div class="more_team"><div class="more_wrap">'),r.push('<div class="more_heroes vision_team" data-match="'+t.MatchId+'" data-side="Blue" data-name="Blue"><div class="more_hero_img" style="background-color:#5285C9;"></div><div class="more_hero_name" data-i18n="[prepend]blue-side"></div></div><div class="more_heroes vision_team"  data-match="'+t.MatchId+'" data-side="Red" data-name="Red"><div class="more_hero_img" style="background-color:#FF5944;"></div><div class="more_hero_name" data-i18n="[prepend]red-side"></div></div></div></div>'),r.push('<div class="map"><div class="heatmap heat_map_Blue'+t.MatchId+'" id="'+t.MatchId.substring(25,30)+'" style="display:none"></div><div class="heatmap heat_map_Red'+t.MatchId+'" id="'+t.MatchId.substring(25,30)+'" style="display:none"></div></div>'),r.push("</div>"),r.push("</div></div>"),r.push("</div>"),$(".match_history_more#"+t.MatchId).html(r.join("")).localize(),e.ID=t.MatchId,e.getTelemetry(t.MatchId)},e}(),teamData=function(){"use strict";var e={};return e.init=function(){var e=tools.getRegion();$(".regieach div#"+e).click()},$(".regieach").on("click","div",function(e){$(".regieach div").removeAttr("class"),$(this).addClass("select"),$(".content .boxes").html('<div align="center"><svg class="circular"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></span></div>'),teamData.loadApi($(this).attr("id"))}),e.loadApi=function(a){var t=config.webapi+"list_teams/"+a;$.ajax({dataType:"json",type:"GET",url:t,success:e.loadData})},e.loadData=function(e){$(".content .boxes").html(""),$.each(e,function(e,a){var t=(Math.round(Object.keys(a).length/2),0),i=[];i.push('<div class="team_row">'),$.each(a,function(e,a){t%2==0&&i.push('</div><div class="team_row">'),i.push('<div class="team"><div class="side"><div class="logo">'),i.push('<div class="logo_img" style="background-image: url(assets/teams/'+a.tag+'.png);"></div>'),i.push('<div class="name">'+a.name+"</div>"),i.push('<div class="desc">['+a.tag+"]</div>"),i.push('</div> </div><div class="side">'),$.each(a.Players,function(e,a){i.push('<div class="player">'),i.push('<a href="'+config.baseurlp+a.region+"/"+e+'" target="_self">'),i.push('<div class="player_img" style="background-image: url(assets/'+a.profile_pic+');"></div>'),i.push('<div class="player_name">'+e+"</div>"),i.push('<div class="player_desc">'+a.national+' <span class="flag-icon flag-icon-'+a.country+'"></span></div>'),i.push('<div class="player_role" style="background-image: url(assets/images/roles/'+a.role.toLowerCase()+'.png"></div>'),i.push("</a>"),i.push("</div>")}),i.push("</div>"),i.push("</div>"),t++}),i.push("</div>"),$(".content .boxes").html(i.join(""))})},e}(),news=function(){"use strict";var e={},a=window.location.pathname.split("/").slice(1);return e.id=a[1],e.last=function(){var a=config.webapi+"news/news_list";$.ajax({dataType:"json",type:"GET",url:a,success:e.loadhome})},e.read=function(){var a=config.webapi+"news/"+e.id;$.ajax({dataType:"json",type:"GET",url:a,success:e.loadnews})},e.loadhome=function(e){var a=[];$.each(e,function(e,t){a.push("<a href="+config.link+"news/"+t.id+"/"+t.title_url+'><div class="each-article"><div class="article-img" style="background-image:url('+t.img+');">'),a.push('<div class="article-title"><h1>'+t.title+"</h1><h2>By "+t.author.ingame_name+"</h2>"),a.push("</div></div></div></a>")}),$(".content-out .news").html(a.join(""))},e.loadnews=function(e){document.title=e.title+" - VGPRO.gg",$(".news-img").css("background-image","url("+e.content_image+")"),$(".news-title-text h1").html(e.title),$(".blog-content").html(e.content),$(".author_name").html(e.author.ingame_name),$(".author_img").css("background-image","url("+e.author.profile_pic+")"),$(".news-title-text h2").html(jQuery.timeago(e.createdAt)+"  WRITTEN BY "+e.author.ingame_name),$(".author_about").html(e.author.bio),$(".author_topheroes").html("<a href='"+config.baseurlp+e.author.ingame_shard+"/"+e.author.ingame_name+"' ><div class='author_button'>See stats</div></a>");var a=[];$.each(e.related,function(e,t){a.push("<a href="+config.link+"news/"+t.id+"/"+t.title_url+'><div class="each-article"><div class="article-img" style="background-image:url('+t.img+');">'),a.push('<div class="article-title"><h1>'+t.title+"</h1><h2>By "+t.author.ingame_name+"</h2>"),a.push("</div></div></div></a>")}),$(".box-body#artitle").html(a.join(""))},e}(),leaderboard=function(){"use strict";var e={};return e.getLeaderboard=function(a,t){var i=config.webapi+"leaderboard/"+a+"/"+t;$.ajax({dataType:"json",type:"GET",url:i,success:e.loadLeaderboard})},e.getLeaderboardName=function(a,t){var i=config.webapi+"leaderboard_player/"+a+"/"+t;console.log(i),$.ajax({dataType:"json",type:"GET",url:i,success:e.loadLeaderboardName,error:e.dealError})},e.dealError=function(e){return alert("Not found!"),$(".view_reset").click(),!1},e.loadLeaderboardName=function(a){var t=[];$.each(a,function(a,i){var s=i.region;"sg"==s&&(s="sea");var r="";e.name==i.name&&(r="me");var l='<span class="modif none"></span>';i.diff>0?l='<span class="modif up">'+i.diff+"</span>":i.diff<0&&(l='<span class="modif down">'+Math.abs(i.diff)+"</span>");playerData.giveWRstyle(i.winrate),playerData.giveRatingstyle(i.rating);t.push('<a href="'+config.baseurlp+i.region+"/"+i.name+'" target="_self" class="each_player" id="'+r+'">'),t.push('<div class="position"><span class="position">'+i.position+"</span>"+l+"</div>"),t.push('<div class="player"><div class="tier"><div class="tier_img" style="background-image: url(assets/images/skilltier/'+i.skillTier+'.png)"></div></div> '+i.name+" <span>"+s+"</span></div>"),t.push('<div class="kda">'+i.kda+'</div><div class="winrate"><div class="winrate_fill"><div class="winrate_fill_win" style="width:'+i.winrate+'%">'+i.win+'W</div><span id="loss">'+i.loss+'L</span></div><span class="winrate_number">'+i.winrate+'%</span></div><div class="points">'+i.rating+"</div></a>")}),$(".load").hide(),$(".lead_box").append(t.join(""))},e.loadLeaderboard=function(e){if(!e)return!1;for(var a=[],t=0;t<e.length;t++){var i=e[t],s=i.region;"sg"==s&&(s="sea");var r='<span class="modif none"></span>';i.diff>0?r='<span class="modif up">'+i.diff+"</span>":i.diff<0&&(r='<span class="modif down">'+Math.abs(i.diff)+"</span>");playerData.giveWRstyle(i.winrate),playerData.giveRatingstyle(i.rating);a.push('<a href="'+config.baseurlp+i.region+"/"+i.name+'" target="_self" class="each_player">'),
a.push('<div class="position"><span class="position">'+i.position+"</span>"+r+"</div>"),a.push('<div class="player"><div class="tier"><div class="tier_img" style="background-image: url(assets/images/skilltier/'+i.skillTier+'.png)"></div></div> '+i.name+" <span>"+s+"</span></div>"),a.push('<div class="kda">'+i.kda+'</div><div class="winrate"><div class="winrate_fill"><div class="winrate_fill_win" style="width:'+i.winrate+'%">'+i.win+'W</div><span id="loss">'+i.loss+'L</span></div><span class="winrate_number">'+i.winrate+'%</span></div><div class="points">'+i.rating+"</div></a>")}$(".load").hide(),$(".lead_box").append(a.join(""))},e.init=function(){var a="global";e.page=1,e.name="",e.getLeaderboard(a,e.page),$(".view_more_space").on("click",".view_more",function(t){e.page++,$(".load").show(),$(".view_reset").show(),e.getLeaderboard(a,e.page)}),$(".view_more_space").on("click",".view_reset",function(t){e.page=1,$(".load").show(),$(".view_more").show(),$(".view_reset").hide(),$(".lead_box").html(""),e.getLeaderboard(a,e.page)}),$(".region_all_filter").on("click",".region_filter",function(){$(".region_filter").removeAttr("id"),$(this).attr("id","select"),e.page=1,a=$(this).data("region"),$(".load").show(),$(".view_more").show(),$(".view_reset").hide(),$(".lead_box").html(""),e.getLeaderboard(a,e.page)}),$(".lookup_leader").submit(function(t){e.name=$(".lookup_leader .input_name").val(),$(".region_filter").removeAttr("id"),console.log(e.name,a),t.preventDefault(),$(".load").show(),$(".view_reset").show(),$(".view_more").hide(),$(".lead_box").html(""),e.getLeaderboardName(a,e.name)})},e}();